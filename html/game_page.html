<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style/game_page.css">
    <link rel="stylesheet" href="../style/keyboardController.css">
    <link rel="stylesheet" href="../style/game-sounds.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GamePage</title>
    <style>
        /* Adição direta no head para centralizar o conteúdo visual */
        .game_area_wrapper {
            display: flex;
            justify-content: center;
        }
    </style>
</head>
<body>
    <audio id="startGameSound" src="../media/sss/gamestart.mp3"></audio>
    <audio id="clickSound" src="../media/sss/Pokémon TCG Pocket - All Sound Effects_click.mp3"></audio>
    <audio id="revealSound" src="../media//sss/Pokémon TCG Pocket - All Sound Effects_reveal.mp3"></audio>
    <audio id="exSound" src="../media/sss/bombaExplotion.mp3"></audio>
    <audio id="switchSound" src="../media/sss/Pokémon TCG Pocket - All Sound Effects_switch.mp3"></audio>
    <audio id="winSound" src="../media/sss/tuturu_1winning.mp3"></audio>
    <audio id="loseSound" src="../media/sss/gameover.mp3"></audio>
    <audio id="fightSound" src="../media/sss/Pokémon TCG Pocket OST - Battle Expert BGM.mp3"></audio>
    <audio id="trySound" src="../media/sss/wrongWarning.mp3"></audio>

    <header>
        <h1 id="title">Minesweeper</h1>
        <a href="home_page2.html"><img src="../media/house_red.png" alt="An house to come back to the home page" title="House-page" id="house" class="banner_button_image"></a>
    </header>
    <section class="content">
        <div class="game_window">
            <!-- 游戏模式选择（包含键盘控制） -->
            <div class="mode_selection">
                <button class="mode_btn" id="classicModeBtn" onclick="switchGameMode(false)">
                    🎯 Classic Mode
                </button>
                <button class="mode_btn" id="livesModeBtn" onclick="switchGameMode(true)">
                    💖 Lives Mode (3 lives)
                </button>
                
                <!-- 键盘控制部分 -->
                <div class="keyboard_section">
                    <button class="mode_btn" id="keyboardModeBtn" onclick="toggleKeyboardMode()">
                        ⌨️ Keyboard OFF
                    </button>
                    <div class="mode_btn" id="keyboardStatus">
                        WASD:Move, J:Explore, K:Flag, ESC:Exit
                    </div>
                </div>
                <button class="mode_btn" id="toggleBombStyleBtn" onclick="toggleBombStyle(true)">
                    🐱 Cute cat bombs
                </button>
            </div>

            <!-- 键盘控制说明（仅在键盘模式激活时显示） -->
            <div class="keyboard_controls_info" id="keyboardControlsInfo" style="display: none;">
                <div class="control_item">
                    <span class="key">W</span><span class="key">A</span><span class="key">S</span><span class="key">D</span> Move cursor
                </div>
                <div class="control_item">
                    <span class="key">J</span> Explore cell
                </div>
                <div class="control_item">
                    <span class="key">K</span> Flag/Unflag
                </div>
                <div class="control_item">
                    <span class="key">ESC</span> Toggle keyboard mode
                </div>
                <button class="mode_btn" id="toggleBombStyleBtn" onclick="toggleBombStyle(true)">
                    🐱 Cute cat bombs
                </button>
            </div>

            <div class="game_info">
                <div class="timer" id="timer">00:00:00</div>
                <div class="mine_counter">
                    <span class="mine_info">💣 <span id="totalMines">10</span></span>
                    <span class="flag_info">🚩 <span id="flagsLeft">10</span></span>
                    <span class="explored_info">🔍 <span id="exploredCells">0</span>/<span id="totalSafeCells">71</span></span>
                    <span class="lives_info" id="livesDisplay" style="display: none;">
                        <span id="livesValue">💖💖💖</span>
                    </span>
                </div>
                <button id="endButton" style="display: none;">End Game</button>
            </div>
            
            <button id="startButton">Start Game</button>
            <button id="restartButton" style="display: none;">Restart</button>
            
            <!-- ENVOLVIDO PARA CENTRALIZAR TUDO -->
            <div class="game_area_wrapper">
                <div class="game_area">
                    <!-- Botões de dificuldade -->
                    <div class="difficulty_buttons">
                        <button class="difficulty_btn" id="easyBtn">Easy<br><small>9×9, 10 mines</small></button>
                        <button class="difficulty_btn" id="mediumBtn">Medium<br><small>16×16, 40 mines</small></button>
                        <button class="difficulty_btn" id="hardBtn">Hard<br><small>30×16, 99 mines</small></button>
                    </div>
                    
                    <!-- Tabuleiro -->
                    <div class="game" id="gameBoard">
                        <!-- O conteúdo do tabuleiro é gerado dinamicamente -->
                    </div>
                </div>
            </div>
        </div>

        
        <footer>
            <a href="rules_page.html"><img src="../media/info_red.png" alt="An icon representing a button to go to the rules page" title="Rules" id="info" class="banner_button_image"> </a>
            <a href="statistics_page.html"><img src="../media/data-analytics.png" alt="An icon of two pages with a Magnifying glass representing a button to go to the statistics page" title="Statistics" id="stats" class="banner_button_image"></a>
        </footer>
    </section>
    <script src="../script/timer.js"></script>
    <script src="../script/tabuleiro.js"></script>
    <script src="../script/keyboardController.js"></script>
    <!-- <script src="../script/game-sound.js"></script> -->
</body>
</html>
